<div class="plants-container">
  <div class="nav-container col-md-1 no-gutters">
    <ul id="navScroll">
      <% @plants.each_slice(2).with_index do |plants, index| %>
        <% if index == 0 %>
           <li aria-label="<%= index + 1 %>" class="active">
            <%= link_to "#{plants.first.common_name} & #{plants.last.common_name}", plants_path + "#plants_row_#{index + 1}"%>
            <em style="height: 22.9679%;"></em>
            <span><%= index + 1 %></span>
          </li>
        <% elsif index == -1%>
          <li aria-label="<%= index + 1 %>">
            <%= link_to "#{plants.last.common_name}", plants_path + "#plants_row_#{index + 1}"%>
            <span><%= index + 1 %></span>
          </li>
        <% else %>
          <li aria-label="<%= index + 1 %>">
            <%= link_to "#{plants.first.common_name} & #{plants.last.common_name}", plants_path + "#plants_row_#{index + 1}"%>
            <em style="height: 22.9679%;"></em>
            <span><%= index + 1 %></span>
          </li>
        <% end %>
      <% end %>
    </ul>
  </div>
  <div class="cards col-md-10 offset-md-1 no-gutters">
    <% @plants.each_slice(2).with_index do |plants, index| %>
      <% if plants.count == 2%>
        <div class="card-row" id="plants_row_<%= index + 1 %>">
            <div class="col-xs-12 col-md-6 no-gutters">
              <%= render partial: 'components/plant', locals: { plant: plants.first, card_height: "700px", img_height: 600, pos: "1" } %>
            </div>
            <div class="col-xs-12 col-md-6 no-gutters" >
              <%= render partial: 'components/plant', locals: { plant: plants.last, card_height: "700px", img_height: 600, pos: "2" } %>
            </div>
          <div class="w-100"></div>
        </div>
      <% else %>
         <div class="card-row" id="<%=plants.last.common_name%>">
          <div class="col-xs-12 col-md-6 no-gutters" >
            <%= render partial: 'components/plant', locals: { plant: plants.last, card_height: "700px", img_height: 600, pos: "2" } %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="col-md-1 offset-md-11 no-gutters">
    <%= form_for(@plants, url: plants_path, method: :get ) do |f| %>
      <%= f.label :size, value: "size" %>
      <%= text_field_tag :size %>
      <%= f.label :sun_level, value: "sunlight" %>
      <%= text_field_tag :sun_level %>
      <%= f.label :care_level, value: "care" %>
      <%= text_field_tag :care_level %>
      <%= submit_tag 'Filter' %>
    <% end %>
  </div>
</div>


<script>
  <%= render 'plants/index.js.erb' %>
</script>
