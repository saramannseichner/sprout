jQuery(document).ready(function($){
  $menu_navigation = $('#main-nav'),
  $cart_trigger = $('#shopping-cart-closed'),
  $cart_opened = $('#shopping-cart-opened'),
  $lateral_cart = $('#cart-summary'),
  $shadow_layer = $('<div id="shadow-layer">');


  $cart_trigger.click(function() {
    var shadow_layer = $('<div id="shadow-layer">');
    $('body').append(shadow_layer);
    shadow_layer.fadeIn();
    $('body').animate({"margin-right": "280px"}, "fast");
    $lateral_cart.fadeIn();
    $cart_opened.fadeIn();
    $cart_trigger.hide();
    shadow_layer.click(function() {
      $(this).fadeOut("fast", function() { $(this).remove(); });
      $('body').animate({"margin-right": "0"}, "fast");
      $lateral_cart.fadeOut();
      $cart_opened.fadeOut();
      $cart_trigger.show();
    });
  });
});
